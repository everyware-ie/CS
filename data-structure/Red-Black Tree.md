# 레드-블랙 트리(Red-Black Tree)
![Alt text](1.png)

레드 블랙 트리는 자가 균형 이진 탐색 트리이다.  
→ 이진 탐색 트리이기 때문에 자신의 왼쪽 서브 트리에는 현재 노드보다 값이 작은 것, 오른쪽 서브 트리에는 값이 큰 것들만 가질 수 있다.

유래  
1. 이걸 개발할 때 앞에 검은색 빨간색 볼펜이 있었다.   
2. 이 때 당시 프린터가 빨간색과 검은색을 가장 선명하게 프린팅됐다.

## 레드 블랙 트리 조건

1. 모든 노드는 빨간색 혹은 검은색이다.
2. 루트 노드는 검은색이다.
3. 모든 리프 노드(NIL)는 검은색이다. (NIL : null leaf, 자료를 갖지 않고 트리의 끝을 나타내는 노드)
4. 빨간색 노드의 자식은 검은색이다. → 빨간색 노드가 연속으로 나올 수 없다.
5. 모든 리프 노드에서 Black Depth는 같다. → 리프 노드에서 루트 노드까지 가는 경로에서 만나는 검은색 노드의 개수가 같다.

## 레드 블랙 트리 삽입

→ 레드 블랙 트리에 새로운 노드를 삽입할 때 새로운 노드는 항상 빨간색으로 삽입한다. 이렇게 되면 4번 조건이 위배되는 상황(Double Red)이 발생하기 때문에 이러한 문제를 해결하기 위해 2가지 전략을 사용한다.

![Alt text](2.png)
- 삼촌 노드가 검은색이라면 → Restructuring 수행
- 삼촌 노드가 빨간색이라면 → Recoloring 수행

### Restructuring

과정

1. 새로운 노드(N), 부모 노드(P), 조상 노드(G)를 오름차순으로 정렬한다.
2. 셋 중 중간값을 부모로 만들고 나머지 둘을 자식으로 만든다.
3. 새로 부모가 된 노드를 검은색으로 만들고 나머지 자식들을 빨간색으로 만든다.

![Alt text](3-1.png)

### Recoloring

과정

1. 새로운 노드(N)의 부모(P)와 삼촌(U)을 검은색으로 바꾸고 조상(G)를 빨간색으로 바꾼다.
    
    1-1. 조상이 루트 노드라면 검은색으로 바꾼다.
    
    1-2. 조상을 빨간색으로 바꿨을 때 또 다시 Double Red가 발생한다면 또 Restructuring 혹은 Recoloring을 진행해서 Double Red 문제가 발생하지 않을 때까지 반복한다.
    

![Alt text](4.png)
![Alt text](5.png)
![Alt text](7.png)
예제 → 8,7,9,3,6,4,5,12를 순서대로 삽입한 후의 상태를 그리시오